import{r as m,v as B,j as e,$ as z,m as U}from"./app-C1hgEOo7.js";import{A as R,C as $,a as K,b as G,c as J,d as Q,T as W,e as X,f as O,g as l,h as Z,i as n}from"./app-DwIirEcu.js";import{B as c}from"./button-CDfH7Em9.js";import{D as b,a as ee,b as N,c as S,d as y,e as T,f as E}from"./dialog-BsDEjt1z.js";import{L as a,I as r}from"./label-EPNbaxMW.js";import{S as p,a as j,b as _,c as v,d as i}from"./select-DsP7nRPX.js";import{L as te,C as se,P as ae,T as re,A as le,a as ne,b as ie,c as de,d as ce,e as he,f as oe,g as me,y as h}from"./alert-dialog-Da5PbGzk.js";/* empty css            */import"./utils-D-KgF5mV.js";import"./index-DndIWvu-.js";import"./createLucideIcon-BX2zHysk.js";import"./index-CogRA1mv.js";import"./index-DRzxHy0K.js";import"./index-CsEdqxbF.js";import"./index-BdULpcBn.js";import"./index-CzjtbFD4.js";function Ae({teachers:F,minimal_departments:f}){const[I,A]=m.useState(!1),[w,g]=m.useState(!1),[L,D]=m.useState(!1),[k,C]=m.useState(!1),[u,x]=m.useState(null),s=B({first_name:"",last_name:"",email:"",phone:null,department_id:null,hire_date:null,status:null}),q=t=>{A(t),t&&(s.reset(),console.log("form",s.data))},H=t=>{t.preventDefault(),console.log("form",s.data),s.post(route("teachers.store"),{preserveScroll:!0,fresh:!0,onSuccess:()=>{s.setDefaults({first_name:"",last_name:"",email:"",phone:null,department_id:null,hire_date:null,status:null}),s.reset(),g(!1),h.success("Teacher created successfully")},onError:d=>{Object.values(d).forEach(o=>{h.error(o)}),s.clearErrors()}})},Y=t=>{x(t),s.setData({first_name:t.first_name,last_name:t.last_name,email:t.email,phone:t.phone,department_id:t.department_id,hire_date:t.hire_date,status:t.status}),D(!0)},P=t=>{t.preventDefault(),u&&s.put(route("teachers.update",u.teacher_id),{onSuccess:()=>{s.setDefaults({first_name:"",last_name:"",email:"",phone:null,department_id:null,hire_date:null,status:null}),D(!1),x(null),s.reset(),h.success("Teacher updated successfully")},onError:d=>{Object.values(d).forEach(o=>{h.error(o)}),s.clearErrors()}})},M=t=>{x(t),C(!0)},V=()=>{u&&U.delete(route("teachers.destroy",u.teacher_id),{onSuccess:()=>{C(!1),x(null),h.success("Teacher deleted successfully")},onError:t=>{Object.values(t).forEach(d=>{h.error(d)}),s.clearErrors()}})};return e.jsxs(R,{children:[e.jsx(z,{title:"Teachers"}),e.jsx(te,{}),e.jsxs("div",{className:"container mx-auto py-6 space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Teacher"}),e.jsxs(b,{open:I,onOpenChange:q,children:[e.jsx(ee,{asChild:!0,children:e.jsxs(c,{children:[e.jsx(se,{className:"mr-2 h-4 w-4"}),"Add Teacher"]})}),e.jsxs(N,{children:[e.jsxs(S,{children:[e.jsx(y,{children:"Add New Teacher"}),e.jsx(T,{children:"Create a new course in the system."})]}),e.jsxs("form",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(a,{htmlFor:"first_name",children:"First Name"}),e.jsx(r,{id:"first_name",placeholder:"Enter first name",value:s.data.first_name,onChange:t=>s.setData("first_name",t.target.value),required:!0}),s.errors.first_name&&e.jsx("p",{className:"text-sm text-destructive",children:s.errors.first_name}),e.jsx(a,{htmlFor:"last_name",children:"Last Name"}),e.jsx(r,{id:"last_name",placeholder:"Enter last name",value:s.data.last_name,onChange:t=>s.setData("last_name",t.target.value),required:!0}),s.errors.last_name&&e.jsx("p",{className:"text-sm text-destructive",children:s.errors.last_name}),e.jsx(a,{htmlFor:"email",children:"Email"}),e.jsx(r,{id:"email",type:"email",placeholder:"Enter email",value:s.data.email,onChange:t=>s.setData("email",t.target.value),required:!0}),s.errors.email&&e.jsx("p",{className:"text-sm text-destructive",children:s.errors.email}),e.jsx(a,{htmlFor:"phone",children:"Phone"}),e.jsx(r,{id:"phone",type:"tel",placeholder:"Enter phone number",value:s.data.phone||"",onChange:t=>s.setData("phone",t.target.value)}),s.errors.phone&&e.jsx("p",{className:"text-sm text-destructive",children:s.errors.phone}),e.jsx(a,{htmlFor:"hire_date",children:"Hire Date"}),e.jsx(r,{id:"hire_date",type:"date",placeholder:"YYYY-MM-DD",value:s.data.hire_date||"",onChange:t=>s.setData("hire_date",t.target.value),required:!0}),s.errors.hire_date&&e.jsx("p",{className:"text-sm text-destructive",children:s.errors.hire_date}),e.jsx(a,{htmlFor:"status",children:"Status"}),e.jsxs(p,{onValueChange:t=>{s.setData("status",t)},children:[e.jsx(j,{id:"status",children:e.jsx(_,{placeholder:"Select status"})}),e.jsxs(v,{children:[e.jsx(i,{value:"Active",children:"Active"}),e.jsx(i,{value:"Inactive",children:"Inactive"}),e.jsx(i,{value:"On Sabbatical",children:"On Sabbatical"})]})]}),s.errors.status&&e.jsx("p",{className:"text-sm text-destructive",children:s.errors.status})]}),e.jsx(E,{children:e.jsx(c,{onClick:t=>{t.preventDefault(),A(!1),g(!0)},disabled:s.processing,children:"Next"})})]})]})]})]}),e.jsxs($,{children:[e.jsxs(K,{children:[e.jsx(G,{children:"Teacher List"}),e.jsx(J,{children:"Manage and organize teachers in your institution."})]}),e.jsx(Q,{children:e.jsxs(W,{children:[e.jsx(X,{children:e.jsxs(O,{children:[e.jsx(l,{children:"Teacher ID"}),e.jsx(l,{children:"Department ID"}),e.jsx(l,{children:"First Name"}),e.jsx(l,{children:"Last Name"}),e.jsx(l,{children:"Email"}),e.jsx(l,{children:"Phone"}),e.jsx(l,{children:"Hire Date"}),e.jsx(l,{children:"Status"}),e.jsx(l,{className:"text-right",children:"Actions"})]})}),e.jsx(Z,{children:F.map(t=>e.jsxs(O,{children:[e.jsx(n,{children:t.teacher_id}),e.jsx(n,{children:t.department_id}),e.jsx(n,{children:t.first_name}),e.jsx(n,{children:t.last_name}),e.jsx(n,{children:t.email}),e.jsx(n,{children:t.phone||"N/A"}),e.jsx(n,{children:t.hire_date||"N/A"}),e.jsx(n,{children:t.status}),e.jsxs(n,{className:"text-right space-x-2",children:[e.jsx(c,{variant:"outline",size:"icon",onClick:()=>Y(t),children:e.jsx(ae,{className:"h-4 w-4"})}),e.jsx(c,{variant:"destructive",size:"icon",onClick:()=>M(t),children:e.jsx(re,{className:"h-4 w-4"})})]})]},t.teacher_id))})]})})]})]}),e.jsx(b,{open:w,onOpenChange:g,children:e.jsxs(N,{children:[e.jsxs(S,{children:[e.jsx(y,{children:"Select Department"}),e.jsx(T,{children:"Choose a department to associate with the teacher."})]}),e.jsxs("form",{onSubmit:H,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(a,{htmlFor:"department_id",children:"Department ID"}),e.jsxs(p,{onValueChange:t=>{let d=f.find(o=>o.department_id===parseInt(t));document.getElementById("department name").value=d.name,s.setData("department_id",parseInt(t))},children:[e.jsx(j,{id:"department_id",children:e.jsx(_,{placeholder:"Select a department"})}),e.jsx(v,{children:f.map(t=>e.jsx(i,{value:t.department_id.toString(),children:t.department_id},t.department_id))})]}),e.jsx(a,{children:"Department Name"}),e.jsx(r,{id:"department name",readOnly:!0})]}),e.jsx(E,{children:e.jsx(c,{type:"submit",disabled:s.processing,children:"Submit"})})]})]})}),e.jsx(b,{open:L,onOpenChange:D,children:e.jsxs(N,{children:[e.jsxs(S,{children:[e.jsx(y,{children:"Edit subject"}),e.jsx(T,{children:"Update the subject information."})]}),e.jsxs("form",{onSubmit:P,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(a,{htmlFor:"department_id",children:"Department ID"}),e.jsxs(p,{onValueChange:t=>{s.setData("department_id",parseInt(t))},children:[e.jsx(j,{id:"department_id",children:e.jsx(_,{placeholder:"Select a department"})}),e.jsx(v,{children:f.map(t=>e.jsx(i,{value:t.department_id.toString(),children:t.department_id},t.department_id))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(a,{htmlFor:"first_name",children:"First Name"}),e.jsx(r,{id:"first_name",placeholder:"Enter first name",value:s.data.first_name,onChange:t=>s.setData("first_name",t.target.value),required:!0}),s.errors.first_name&&e.jsx("p",{className:"text-sm text-destructive",children:s.errors.first_name}),e.jsx(a,{htmlFor:"last_name",children:"Last Name"}),e.jsx(r,{id:"last_name",placeholder:"Enter last name",value:s.data.last_name,onChange:t=>s.setData("last_name",t.target.value),required:!0}),s.errors.last_name&&e.jsx("p",{className:"text-sm text-destructive",children:s.errors.last_name}),e.jsx(a,{htmlFor:"email",children:"Email"}),e.jsx(r,{id:"email",type:"email",placeholder:"Enter email",value:s.data.email,onChange:t=>s.setData("email",t.target.value),required:!0}),s.errors.email&&e.jsx("p",{className:"text-sm text-destructive",children:s.errors.email}),e.jsx(a,{htmlFor:"phone",children:"Phone"}),e.jsx(r,{id:"phone",type:"tel",placeholder:"Enter phone number",value:s.data.phone||"",onChange:t=>s.setData("phone",t.target.value)}),s.errors.phone&&e.jsx("p",{className:"text-sm text-destructive",children:s.errors.phone}),e.jsx(a,{htmlFor:"hire_date",children:"Hire Date"}),e.jsx(r,{id:"hire_date",type:"date",placeholder:"YYYY-MM-DD",value:s.data.hire_date||"",onChange:t=>s.setData("hire_date",t.target.value),required:!0}),s.errors.hire_date&&e.jsx("p",{className:"text-sm text-destructive",children:s.errors.hire_date}),e.jsx(a,{htmlFor:"status",children:"Status"}),e.jsxs(p,{onValueChange:t=>{s.setData("status",t)},children:[e.jsx(j,{id:"status",children:e.jsx(_,{placeholder:"Select status"})}),e.jsxs(v,{children:[e.jsx(i,{value:"Active",children:"Active"}),e.jsx(i,{value:"Inactive",children:"Inactive"}),e.jsx(i,{value:"On Sabbatical",children:"On Sabbatical"})]})]}),s.errors.status&&e.jsx("p",{className:"text-sm text-destructive",children:s.errors.status})]})]}),e.jsx(E,{children:e.jsx(c,{type:"submit",disabled:s.processing,children:"Update Teacher"})})]})]})}),e.jsx(le,{open:k,onOpenChange:C,children:e.jsxs(ne,{children:[e.jsxs(ie,{children:[e.jsx(de,{children:"Are you sure?"}),e.jsx(ce,{children:"This action cannot be undone. This will permanently delete the subject and remove it from our servers."})]}),e.jsxs(he,{children:[e.jsx(oe,{children:"Cancel"}),e.jsx(me,{onClick:V,className:"bg-destructive text-white hover:bg-destructive/90",children:"Delete"})]})]})})]})}export{Ae as default};
