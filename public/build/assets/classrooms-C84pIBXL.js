import{r as m,v as k,j as e,$ as q,m as B}from"./app-C1hgEOo7.js";import{A as L,C as H,a as R,b as z,c as P,d as U,T as $,e as K,f as g,g as l,h as M,i as n}from"./app-DwIirEcu.js";import{B as o}from"./button-CDfH7Em9.js";import{D as b,a as G,b as C,c as y,d as v,e as f,f as D}from"./dialog-BsDEjt1z.js";import{L as a,I as t}from"./label-EPNbaxMW.js";import{L as J,C as Q,P as V,T as W,A as X,a as Y,b as Z,c as ee,d as se,e as re,f as ae,g as te,y as i}from"./alert-dialog-Da5PbGzk.js";/* empty css            */import"./utils-D-KgF5mV.js";import"./index-DndIWvu-.js";import"./createLucideIcon-BX2zHysk.js";import"./index-CogRA1mv.js";import"./index-DRzxHy0K.js";function ge({classrooms:h}){const[N,j]=m.useState(!1),[_,x]=m.useState(!1),[A,p]=m.useState(!1),[c,d]=m.useState(null),r=k({building:"",room_number:"",capacity:null}),E=s=>{j(s),s&&r.reset()},T=s=>{console.log("form",r.data),s.preventDefault(),r.post(route("classrooms.store"),{onSuccess:()=>{j(!1),r.reset(),i.success("Classroom created successfully")},onError:u=>{Object.values(u).forEach(I=>{i.error(I)})}})},O=s=>{d(s),r.setData("building",s.building),r.setData("room_number",s.room_number),r.setData("capacity",s.capacity),x(!0)},S=s=>{s.preventDefault(),c&&r.put(route("classrooms.update",c.classroom_id),{onSuccess:()=>{x(!1),d(null),r.reset(),i.success("Classroom updated successfully")},onError:u=>{i.error("Failed to update classroom")}})},F=s=>{d(s),p(!0)},w=()=>{c&&B.delete(route("classrooms.destroy",c.classroom_id),{onSuccess:()=>{p(!1),d(null),i.success("Classroom deleted successfully")},onError:s=>{i.error("Failed to delete classroom")}})};return e.jsxs(L,{children:[e.jsx(q,{title:"Classrooms"}),e.jsx(J,{}),e.jsxs("div",{className:"container mx-auto py-6 space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Classroom"}),e.jsxs(b,{open:N,onOpenChange:E,children:[e.jsx(G,{asChild:!0,children:e.jsxs(o,{children:[e.jsx(Q,{className:"mr-2 h-4 w-4"}),"Add Classroom"]})}),e.jsxs(C,{children:[e.jsxs(y,{children:[e.jsx(v,{children:"Add New Classroom"}),e.jsx(f,{children:"Create a new classroom in the system."})]}),e.jsxs("form",{onSubmit:T,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(a,{htmlFor:"building",children:"Building"}),e.jsx(t,{id:"building",placeholder:"Enter building",value:r.data.building,onChange:s=>r.setData("building",s.target.value),required:!0}),e.jsx(a,{htmlFor:"room_number",children:"Room Number"}),e.jsx(t,{id:"room_number",placeholder:"Enter room number",value:r.data.room_number,onChange:s=>r.setData("room_number",s.target.value),required:!0}),e.jsx(a,{htmlFor:"capacity",children:"Capacity"}),e.jsx(t,{id:"capacity",type:"number",placeholder:"Enter capacity",value:r.data.capacity||"",onChange:s=>r.setData("capacity",s.target.value?parseInt(s.target.value):null),required:!0}),r.errors.building&&e.jsx("p",{className:"text-sm text-destructive",children:r.errors.building}),r.errors.room_number&&e.jsx("p",{className:"text-sm text-destructive",children:r.errors.room_number}),r.errors.capacity&&e.jsx("p",{className:"text-sm text-destructive",children:r.errors.capacity})]}),e.jsx(D,{children:e.jsx(o,{type:"submit",disabled:r.processing,children:"Create Classroom"})})]})]})]})]}),e.jsxs(H,{children:[e.jsxs(R,{children:[e.jsx(z,{children:"Classroom List"}),e.jsx(P,{children:"Manage and organize classrooms in your institution."})]}),e.jsx(U,{children:e.jsxs($,{children:[e.jsx(K,{children:e.jsxs(g,{children:[e.jsx(l,{children:"ID"}),e.jsx(l,{children:"Building"}),e.jsx(l,{children:"Room Number"}),e.jsx(l,{children:"Capacity"}),e.jsx(l,{className:"text-right",children:"Actions"})]})}),e.jsx(M,{children:h==null?void 0:h.map(s=>e.jsxs(g,{children:[e.jsx(n,{className:"font-medium",children:s.classroom_id}),e.jsx(n,{children:s.building}),e.jsx(n,{children:s.room_number}),e.jsx(n,{children:s.capacity}),e.jsxs(n,{className:"text-right space-x-2",children:[e.jsx(o,{variant:"outline",size:"icon",onClick:u=>O(s),children:e.jsx(V,{className:"h-4 w-4"})}),e.jsx(o,{variant:"destructive",size:"icon",onClick:u=>F(s),children:e.jsx(W,{className:"h-4 w-4"})})]})]},s.classroom_id))})]})})]})]}),e.jsx(b,{open:_,onOpenChange:x,children:e.jsxs(C,{children:[e.jsxs(y,{children:[e.jsx(v,{children:"Edit classroom"}),e.jsx(f,{children:"Update the classroom information."})]}),e.jsxs("form",{onSubmit:S,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(a,{htmlFor:"building",children:"Building"}),e.jsx(t,{id:"building",placeholder:"Enter building",value:r.data.building,onChange:s=>r.setData("building",s.target.value),required:!0}),e.jsx(a,{htmlFor:"room_number",children:"Room Number"}),e.jsx(t,{id:"room_number",placeholder:"Enter room number",value:r.data.room_number,onChange:s=>r.setData("room_number",s.target.value),required:!0}),e.jsx(a,{htmlFor:"capacity",children:"Capacity"}),e.jsx(t,{id:"capacity",type:"number",placeholder:"Enter capacity",value:r.data.capacity||"",onChange:s=>r.setData("capacity",s.target.value?parseInt(s.target.value):null),required:!0}),r.errors.building&&e.jsx("p",{className:"text-sm text-destructive",children:r.errors.building}),r.errors.room_number&&e.jsx("p",{className:"text-sm text-destructive",children:r.errors.room_number}),r.errors.capacity&&e.jsx("p",{className:"text-sm text-destructive",children:r.errors.capacity})]}),e.jsx(D,{children:e.jsx(o,{type:"submit",disabled:r.processing,children:"Update Classroom"})})]})]})}),e.jsx(X,{open:A,onOpenChange:p,children:e.jsxs(Y,{children:[e.jsxs(Z,{children:[e.jsx(ee,{children:"Are you sure?"}),e.jsx(se,{children:"This action cannot be undone. This will permanently delete the classroom and remove it from our servers."})]}),e.jsxs(re,{children:[e.jsx(ae,{children:"Cancel"}),e.jsx(te,{onClick:w,className:"bg-destructive text-white hover:bg-destructive/90",children:"Delete"})]})]})})]})}export{ge as default};
