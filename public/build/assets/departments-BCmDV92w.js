import{r as i,v as u,j as e,$ as k,m as _}from"./app-C1hgEOo7.js";import{A as z,C as B,a as P,b as U,c as q,d as R,T as $,e as M,f as j,g as h,h as G,i as p}from"./app-DwIirEcu.js";import{D,a as J,b as f,c as g,d as C,e as v,f as b}from"./dialog-BsDEjt1z.js";import{B as r}from"./button-CDfH7Em9.js";import{L as y,I as N}from"./label-EPNbaxMW.js";import{L as K,C as Q,P as V,T as W,A as X,a as Y,b as Z,c as ee,d as se,e as te,f as ae,g as re,y as c}from"./alert-dialog-Da5PbGzk.js";/* empty css            */import"./utils-D-KgF5mV.js";import"./index-DndIWvu-.js";import"./createLucideIcon-BX2zHysk.js";import"./index-CogRA1mv.js";import"./index-DRzxHy0K.js";function De({departments:d}){const[A,x]=i.useState(!1),[T,o]=i.useState(!1),[S,m]=i.useState(!1),[n,l]=i.useState(null),a=u({name:""}),t=u({name:""}),E=s=>{s.preventDefault(),a.post(route("departments.store"),{preserveScroll:!0,onSuccess:()=>{x(!1),a.setDefaults({name:""}),a.reset(),c("Department created successfully")},onError:F=>{Object.values(F).forEach(H=>{c(H)})}})},O=s=>{l(s),t.setData("name",s.name),o(!0)},w=s=>{s.preventDefault(),n&&t.put(route("departments.update",n.department_id),{onSuccess:()=>{t.setDefaults({name:""}),o(!1),l(null),t.reset(),c("Department updated successfully")}})},I=s=>{l(s),m(!0)},L=()=>{n&&_.delete(route("departments.destroy",n.department_id),{onSuccess:()=>{m(!1),l(null),c("Department deleted successfully")}})};return e.jsxs(z,{children:[e.jsx(k,{title:"Departments"}),e.jsx(K,{}),e.jsxs("div",{className:"container mx-auto py-6 space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Departments"}),e.jsxs(D,{open:A,onOpenChange:x,children:[e.jsx(J,{asChild:!0,children:e.jsxs(r,{children:[e.jsx(Q,{className:"mr-2 h-4 w-4"}),"Add Department"]})}),e.jsxs(f,{children:[e.jsxs(g,{children:[e.jsx(C,{children:"Add New Department"}),e.jsx(v,{children:"Create a new department in the system."})]}),e.jsxs("form",{onSubmit:E,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(y,{htmlFor:"name",children:"Department Name"}),e.jsx(N,{id:"name",placeholder:"Enter department name",value:a.data.name,onChange:s=>a.setData("name",s.target.value),required:!0}),a.errors.name&&e.jsx("p",{className:"text-sm text-destructive",children:a.errors.name})]}),e.jsx(b,{children:e.jsx(r,{type:"submit",disabled:a.processing,children:"Create Department"})})]})]})]})]}),e.jsxs(B,{children:[e.jsxs(P,{children:[e.jsx(U,{children:"Department List"}),e.jsx(q,{children:"Manage and organize departments in your institution."})]}),e.jsx(R,{children:e.jsxs($,{children:[e.jsx(M,{children:e.jsxs(j,{children:[e.jsx(h,{children:"ID"}),e.jsx(h,{children:"Name"}),e.jsx(h,{className:"text-right",children:"Actions"})]})}),e.jsx(G,{children:d==null?void 0:d.map(s=>e.jsxs(j,{children:[e.jsx(p,{className:"font-medium",children:s.department_id}),e.jsx(p,{children:s.name}),e.jsxs(p,{className:"text-right space-x-2",children:[e.jsx(r,{variant:"outline",size:"icon",onClick:()=>O(s),children:e.jsx(V,{className:"h-4 w-4"})}),e.jsx(r,{variant:"destructive",size:"icon",onClick:()=>I(s),children:e.jsx(W,{className:"h-4 w-4"})})]})]},s.department_id))})]})})]})]}),e.jsx(D,{open:T,onOpenChange:o,children:e.jsxs(f,{children:[e.jsxs(g,{children:[e.jsx(C,{children:"Edit Department"}),e.jsx(v,{children:"Update the department information."})]}),e.jsxs("form",{onSubmit:w,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(y,{htmlFor:"edit-name",children:"Department Name"}),e.jsx(N,{id:"edit-name",placeholder:"Enter department name",value:t.data.name,onChange:s=>t.setData("name",s.target.value),required:!0}),t.errors.name&&e.jsx("p",{className:"text-sm text-destructive",children:t.errors.name})]}),e.jsx(b,{children:e.jsx(r,{type:"submit",disabled:t.processing,children:"Update Department"})})]})]})}),e.jsx(X,{open:S,onOpenChange:m,children:e.jsxs(Y,{children:[e.jsxs(Z,{children:[e.jsx(ee,{children:"Are you sure?"}),e.jsx(se,{children:"This action cannot be undone. This will permanently delete the department and remove it from our servers."})]}),e.jsxs(te,{children:[e.jsx(ae,{children:"Cancel"}),e.jsx(re,{onClick:L,className:"bg-destructive text-white hover:bg-destructive/90",children:"Delete"})]})]})})]})}export{De as default};
